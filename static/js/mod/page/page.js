define("/static/js/mod/page/page.js",function(a){function t(a){this.options=e.extend({dom:null,pageTotal:0,perPage:10,url:"",first:!0,last:!0,currentPage:1,currentPageClassName:"ui-page-current",pageClassName:"",callback:function(){}},a||{}),this.initialize()}var e=a("jquery");return t.prototype={initialize:function(){0!=this.options.pageTotal&&(this.container=e('<ul class="ui-page">'),this.dom=e(this.options.dom).empty().append(this.container),this.index=this.options.currentPage,this.createPage(),this.bindEvent())},pageTo:function(a){var t=this.options;this.index=a?parseInt(1>a?1:a>t.pageTotal?t.pageTotal:a):this.index,t.callback&&t.callback.call(this,this.index),this.createPage()},bindEvent:function(){var a=this;a.container.delegate("a","click",function(){a.pageTo(e(this).attr("data-page"))})},createPage:function(){var a=this,t=a.getPageResult(),i=a.options;a.container.empty(),e.each(t,function(t,s){var n,p=s[0],o=s[1];n=o!=a.index?e('<li><a href="'+(i.url?i.url+o:"javascript:void(0);")+'" data-page="'+o+'">'+p+"</a></li>").addClass(s[2]):e("<li>"+o+"</li>").addClass(i.currentPageClassName),n.addClass(i.pageClassName).appendTo(a.container)})},getPageResult:function(){var a=this,t=a.options,e=t.pageTotal,i=t.perPage,s=this.index,n=0,p=0,o=Math.ceil(i/2),r=parseInt(i/2);i>e?(n=1,p=e):o>=s?(n=1,p=i):s>o&&(e>=s+o?(n=s-o+1,p=s+r):(n=e-i+1,p=e));var l=[];s>1&&l.push([t.previous||"&nbsp;",s-1,"ui-page-previous"]),t.first&&(n>2?l.push(["1..",1]):2==n&&l.push(["1",1]));for(var u=n;p>=u;)l.push([u,u++]);return t.last&&(e-1>p?l.push([".."+e,e]):p==e-1&&l.push([e,e])),e>s&&l.push([t.next||"&nbsp;",s+1,"ui-page-next"]),l}},t});