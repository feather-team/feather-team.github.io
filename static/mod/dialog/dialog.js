define("/static/mod/dialog/dialog.js",function(t){function i(t){this.options=n.extend({title:"",container:document.body,dom:null,width:400,height:!1,content:"",url:"",esc:!1,mask:!0,autoOpen:!1,buttons:{},handle:null,open:function(){},firstOpen:function(){},close:function(){}},t||{}),this.init()}var n=t(":jquery"),s=t(":mask");return i.prototype={init:function(){this.firstOpenStatus=!1;var t=this.wraper=n(this.options.container);!/fixed|absolute/.test(t.css("position"))&&t.css("position","relative"),this.create(),this.options.autoOpen&&this.open()},create:function(){this.createMask(),this.createContainer(),this.bindEvent()},bindEvent:function(){this.bindClose();var t=this;if(n(window).resize(function(){t.reset()}),setTimeout(function(){t.reset()},0),this.options.handle){var t=this;n(t.options.handle).click(function(){t.open()})}},createMask:function(){this.options.mask&&(this.mask=new s({autoOpen:!1,container:this.wraper}))},createContainer:function(){var t=this.container=n('<div class="ui-dialog-container">').html(['<div class="ui-dialog-content"></div>'].join("")).appendTo(this.wraper);this.options.title!==!1&&t.prepend(['<strong class="ui-dialog-header">','<a href="javascript:void(0);" class="ui-dialog-close">&times;</a>','<span class="ui-dialog-title">'+this.options.title+"</span>","</strong>"].join("")),this.createContent(),this.createButtons(),t.find(".ui-dialog-content").css({width:this.options.width,height:this.options.height}),t.css("width",this.options.width)},createContent:function(){var t=this,i=t.options,s=t.container.find(".ui-dialog-content");i.content?s.html(i.content):i.dom?s.append(n(i.dom).show()):i.url&&s.load(i.url,function(){t.reset()})},createButtons:function(){if(!n.isEmptyObject(this.options.buttons)){var t=this,i=n('<div class="ui-dialog-buttons">').appendTo(t.container);n.each(t.options.buttons,function(s,o){n.isFunction(o)&&(o={events:{click:o},classname:""});var e=n('<a href="javascript:void(0);" class="ui-dialog-button" />').text(s).appendTo(i);e.addClass(o.classname||o.className),n.each(o.events,function(i,n){e.bind(i,function(){n.call(t,e)})})})}},bindClose:function(){var t=this;t.container.find(".ui-dialog-close").click(function(){t.close()}),t.options.esc&&n(document).keyup(function(i){27==i.keyCode&&t.close()})},setTitle:function(t){this.container.find(".ui-dialog-title").text(t)},reset:function(){this.mask&&this.mask.reset();var t,i=this.wraper[0];i===document.body?(t="fixed",i=window):t="absolute",this.container.css({left:parseInt((n(i).outerWidth()-this.container.outerWidth())/2),top:parseInt((n(i).outerHeight()-this.container.outerHeight())/2),position:t})},open:function(){this.mask&&this.mask.open(),this.container.show(),this.reset(),this.firstOpenStatus&&n.isFunction(this.options.firstOpen)&&(this.firstOpenStatus=!0,this.options.firstOpen.call(this)),n.isFunction(this.options.open)&&this.options.open.call(this)},close:function(){this.mask&&this.mask.close(),this.container.hide(),n.isFunction(this.options.close)&&this.options.close.call(this)},destory:function(){this.mask&&this.mask.destory(),this.container.remove()}},i});